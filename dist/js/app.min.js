var currentEffect;function audioVolume(e){var a=$("audio#music"),r=$("audio#effects");a.prop("volume",e),r.prop("volume",e)}function playMusic(e){var a,r=$("audio#music");switch(e){case 0:case 1:case 2:case 3:case 4:a=0;break;case 5:case 6:case 7:case 8:case 9:a=1;break;case 10:a=2;break;case 11:case 12:a=3;break;case 13:a=4;break;case 14:case 15:case 16:a=5;break;default:a=0}r[a].play()}function playEffect(e){var a=$("audio#effects");switch(currentEffect=e){case"correctAnswer":a[0].play();break;case"finalAnswer":a[1].play();break;case"beginGame2":a[2].play();break;case"phoneFriend":a[3].play();break;case"wrongAnswer":a[4].play();break;case"beginGame1":a[5].play();break;case"blast":a[6].play();break;case"winner":a[7].play();break;case"ticktock":a[8].play()}}function stopMusic(e){var a,r=$("audio#music");switch(e){case 0:case 1:case 2:case 3:case 4:a=0;break;case 5:case 6:case 7:case 8:case 9:a=1;break;case 10:a=2;break;case 11:case 12:a=3;break;case 13:a=4;break;case 14:a=5;break;default:a=0}r[a].pause(),r[a].currentTime=0}function stopEffect(e){currentEffect="";var a=$("audio#effects");switch(e){case"correctAnswer":a[0].pause(),a[0].currentTime=0;break;case"finalAnswer":a[1].pause(),a[1].currentTime=0;break;case"beginGame2":a[2].pause(),a[2].currentTime=0;break;case"phoneFriend":a[3].pause(),a[3].currentTime=0;break;case"wrongAnswer":a[4].pause(),a[4].currentTime=0;break;case"beginGame1":a[5].pause(),a[5].currentTime=0;break;case"winner":a[7].pause(),a[7].currentTime=0;break;case"ticktock":a[8].pause(),a[8].currentTime=0}}$(window).on("load",function(){$("#preloader").fadeOut()});var introVideo=document.getElementById("introVideo"),footer=$("footer"),mainMenu=$("#mainMenu"),gameWindow=$("#gameWindow"),fadeTime=1e3;mainMenu.hide();var finalScore,currentLevel=1,actualLevel=1,swichLevel=!1,qty=20,aMix=[];function getRndInteger(e,a){return Math.floor(Math.random()*(a-e+1))+e}function checkCutScene(e){switch(e){case 1:case 2:case 3:case 4:playMusic(e-1);break;case 5:showScoreCutScene(e-1);break;case 6:case 7:case 8:case 9:playMusic(e-1);break;case 10:showScoreCutScene(e-1);break;case 11:case 12:case 13:case 14:case 15:playMusic(e-1);break;case 16:showGameOverCutScene(e-1)}}function setAudienceMeters(e,a,r,s){$("#meter1").animate({width:e+"%"},1500),$("#meter2").animate({width:a+"%"},1500),$("#meter3").animate({width:r+"%"},1500),$("#meter4").animate({width:s+"%"},1500)}function disableClick(){$("#ans1B").off("click"),$("#ans2B").off("click"),$("#ans3B").off("click"),$("#ans4B").off("click")}function highlightAnswerReset(){$("#ans1B").removeClass("answerCorrect").addClass("answer").show(),$("#ans2B").removeClass("answerCorrect").addClass("answer").show(),$("#ans3B").removeClass("answerCorrect").addClass("answer").show(),$("#ans4B").removeClass("answerCorrect").addClass("answer").show(),$("#AsktheAudience").fadeOut()}function levelUp(){setTimeout($.proxy(function(){currentLevel+=1,setLevel(actualLevel+=1)},this),5e3)}function gameOver(e){return setTimeout($.proxy(function(){showGameOverCutScene(e),console.log("Game Over")},this),4e3),!1}function highLightAnswerOrange(e){stopMusic(actualLevel-1),playEffect("finalAnswer"),$("#timer").TimeCircles().stop(),$("#"+e).hide().removeClass("answer").addClass("answerCheck").fadeIn(1e3)}function highLightAnswerGreen(e){setTimeout($.proxy(function(){stopEffect(currentEffect),playEffect("correctAnswer"),timerID=$("#timer"),toggleShowHide(timerID),$(e).removeClass("answerCheck").addClass("answerCorrect").fadeIn(200).fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200),$("body").focus()},this),4e3)}function highLightAnswerRed(e,a){setTimeout($.proxy(function(){playEffect("wrongAnswer"),stopEffect("finalAnswer"),$(e).removeClass("answerCheck").addClass("answerIncorrect").fadeIn(200).fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200),highlightCorrectAnswer(a)},this),3e3)}function highlightCorrectAnswer(e){$("#ans1B:contains('"+e+"')").removeClass("answerCheck").addClass("answerCorrect"),$("#ans2B:contains('"+e+"')").removeClass("answerCheck").addClass("answerCorrect"),$("#ans3B:contains('"+e+"')").removeClass("answerCheck").addClass("answerCorrect"),$("#ans4B:contains('"+e+"')").removeClass("answerCheck").addClass("answerCorrect"),$("#ans1B").prop("disabled",!0),$("#ans2B").prop("disabled",!0),$("#ans3B").prop("disabled",!0),$("#ans4B").prop("disabled",!0)}function setMoney(e){var a=0;switch(e){case 0:a=0;break;case 1:a=100;break;case 2:a=250;break;case 3:a=500;break;case 4:a=1e3;break;case 5:a=2e3;break;case 6:a=4e3;break;case 7:a=8e3;break;case 8:a=16e3;break;case 9:a=32e3;break;case 10:a=64e3;break;case 11:a=125e3;break;case 12:a=25e4;break;case 13:a=5e5;break;case 14:case 15:a=1e6;break;default:a=0}return a}function setLevel(e){var a=$("#q"+e),r=a.data("id");levelDOM.html(currentLevel),actualDOM.html("Question "+actualLevel),$(".progressLevel").animate({height:r},500),a.addClass("outer checkPointHL"),levelDOM.html(currentLevel);var s=setMoney(currentLevel-1),n=$.animateNumber.numberStepFactories.separator(",");$("#scoreValue").animateNumber({number:s,numberStep:n}),$("#scoreValue").fadeIn(200).fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200)}function showScoreCutScene(e){$("#scoreCutScene").fadeIn(1e3),playEffect("beginGame1");var a=$.animateNumber.numberStepFactories.separator(",");$("#sceneScoreValue").animateNumber({number:setMoney(e),numberStep:a},5e3),setTimeout($.proxy(function(){$("#displayScore").fadeIn(200).fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200)},this),5e3),setTimeout($.proxy(function(){$("#scoreCutScene").fadeOut(1e3),playMusic(actualLevel-1)},this),6500)}function toggleShowHide(e){"show"===e.attr("class")?(e.removeClass("show"),e.addClass("hide")):(e.removeClass("hide"),e.addClass("show"))}function initTimer(){var a=$("#timer");a.TimeCircles().addListener(function(){var e=a.TimeCircles().getTime();e<1&&(a.TimeCircles().stop(),a.data("data-timer",0),stopMusic(actualLevel-1),playEffect("wrongAnswer"),showGameOverCutScene(actualLevel),console.log("Out of Time - Game Over!")),0<e&&e<7.995&&playEffect("ticktock")})}function showGameOverCutScene(e){if($("#endGameCutScene").fadeIn(fadeTime),$("#timer").TimeCircles().destroy(),14<=e){var a="WINNER";stopMusic(actualLevel-1),playEffect("winner")}else a="GAME OVER";$("#endGameHeader").text(a),$("#name").focus(),finalScore=setMoney(e);var r=$.animateNumber.numberStepFactories.separator(",");$("#endGameScore").animateNumber({number:finalScore,numberStep:r},1e3),setTimeout($.proxy(function(){$("#endGameScoreHeader").fadeIn(200).fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200)},this),1200)}function shuffle(e){for(var a,r,s=e.length;s;)r=Math.floor(Math.random()*s--),a=e[s],e[s]=e[r],e[r]=a;return e}function loadQuestion(e){highlightAnswerReset(),console.log("Correct Answer - "+e.correct_answer);var a=$("#question"),r=$("#ans1"),s=$("#ans2"),n=$("#ans3"),t=$("#ans4"),c=e.question,i=[e.correct_answer,e.incorrect_answers[0],e.incorrect_answers[1],e.incorrect_answers[2]];aMix=shuffle(i),$("#card").fadeOut(),setTimeout($.proxy(function(){a.html(c),r.html(aMix[0]),s.html(aMix[1]),n.html(aMix[2]),t.html(aMix[3]),$("#card").fadeIn(),timerID=$("#timer"),timerID.TimeCircles().restart(),timerID.removeClass("hide"),timerID.addClass("show"),initTimer()},this),500)}function checkAnswer(e,a){return e===a}$(document).ready(function(){var t=$("#currentLevel"),c=$("#actualLevel");function b(e,a){return Math.floor(Math.random()*(a-e+1))+e}function l(e){switch(e){case 1:case 2:case 3:case 4:playMusic(e-1);break;case 5:a(e-1);break;case 6:case 7:case 8:case 9:playMusic(e-1);break;case 10:a(e-1);break;case 11:case 12:case 13:case 14:case 15:playMusic(e-1);break;case 16:u(e-1)}}function d(){$("#ans1B").off("click"),$("#ans2B").off("click"),$("#ans3B").off("click"),$("#ans4B").off("click")}function f(){setTimeout($.proxy(function(){currentLevel+=1,C(actualLevel+=1)},this),5e3)}function m(e){return setTimeout($.proxy(function(){u(e),console.log("Game Over")},this),4e3),!1}function h(e){stopMusic(actualLevel-1),playEffect("finalAnswer"),$("#timer").TimeCircles().stop(),$("#"+e).hide().removeClass("answer").addClass("answerCheck").fadeIn(1e3)}function w(a){setTimeout($.proxy(function(){var e;stopEffect(currentEffect),playEffect("correctAnswer"),timerID=$("#timer"),"show"===(e=timerID).attr("class")?(e.removeClass("show"),e.addClass("hide")):(e.removeClass("hide"),e.addClass("show")),$(a).removeClass("answerCheck").addClass("answerCorrect").fadeIn(200).fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200),$("body").focus()},this),4e3)}function p(a,r){setTimeout($.proxy(function(){var e;playEffect("wrongAnswer"),stopEffect("finalAnswer"),$(a).removeClass("answerCheck").addClass("answerIncorrect").fadeIn(200).fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200),e=r,$("#ans1B:contains('"+e+"')").removeClass("answerCheck").addClass("answerCorrect"),$("#ans2B:contains('"+e+"')").removeClass("answerCheck").addClass("answerCorrect"),$("#ans3B:contains('"+e+"')").removeClass("answerCheck").addClass("answerCorrect"),$("#ans4B:contains('"+e+"')").removeClass("answerCheck").addClass("answerCorrect"),$("#ans1B").prop("disabled",!0),$("#ans2B").prop("disabled",!0),$("#ans3B").prop("disabled",!0),$("#ans4B").prop("disabled",!0)},this),3e3)}function o(e){var a=0;switch(e){case 0:a=0;break;case 1:a=100;break;case 2:a=250;break;case 3:a=500;break;case 4:a=1e3;break;case 5:a=2e3;break;case 6:a=4e3;break;case 7:a=8e3;break;case 8:a=16e3;break;case 9:a=32e3;break;case 10:a=64e3;break;case 11:a=125e3;break;case 12:a=25e4;break;case 13:a=5e5;break;case 14:case 15:a=1e6;break;default:a=0}return a}function C(e){var a=$("#q"+e),r=a.data("id");t.html(currentLevel),c.html("Question "+actualLevel),$(".progressLevel").animate({height:r},500),a.addClass("outer checkPointHL"),t.html(currentLevel);var s=o(currentLevel-1),n=$.animateNumber.numberStepFactories.separator(",");$("#scoreValue").animateNumber({number:s,numberStep:n}),$("#scoreValue").fadeIn(200).fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200)}function a(e){$("#scoreCutScene").fadeIn(1e3),playEffect("beginGame1");var a=$.animateNumber.numberStepFactories.separator(",");$("#sceneScoreValue").animateNumber({number:o(e),numberStep:a},5e3),setTimeout($.proxy(function(){$("#displayScore").fadeIn(200).fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200)},this),5e3),setTimeout($.proxy(function(){$("#scoreCutScene").fadeOut(1e3),playMusic(actualLevel-1)},this),6500)}function u(e){if($("#endGameCutScene").fadeIn(fadeTime),$("#timer").TimeCircles().stop(),14<=e){var a="WINNER";stopMusic(actualLevel-1),playEffect("winner")}else a="GAME OVER";$("#endGameHeader").text(a),$("#name").focus(),finalScore=o(e);var r=$.animateNumber.numberStepFactories.separator(",");$("#endGameScore").animateNumber({number:finalScore,numberStep:r},1e3),setTimeout($.proxy(function(){$("#endGameScoreHeader").fadeIn(200).fadeOut(200).fadeIn(200).fadeOut(200).fadeIn(200)},this),1200)}function k(e){for(var a,r,s=e.length;s;)r=Math.floor(Math.random()*s--),a=e[s],e[s]=e[r],e[r]=a;return e}function y(e){$("#ans1B").removeClass("answerCorrect").addClass("answer").show(),$("#ans2B").removeClass("answerCorrect").addClass("answer").show(),$("#ans3B").removeClass("answerCorrect").addClass("answer").show(),$("#ans4B").removeClass("answerCorrect").addClass("answer").show(),$("#AsktheAudience").fadeOut(),console.log("Correct Answer - "+unescape(e.correct_answer));var r=$("#question"),s=$("#ans1"),n=$("#ans2"),t=$("#ans3"),c=$("#ans4"),i=e.question,a=[e.correct_answer,e.incorrect_answers[0],e.incorrect_answers[1],e.incorrect_answers[2]];aMix=k(a),$("#card").fadeOut(),setTimeout($.proxy(function(){var a;r.html(i),s.html(aMix[0]),n.html(aMix[1]),t.html(aMix[2]),c.html(aMix[3]),$("#card").fadeIn(),timerID=$("#timer"),timerID.TimeCircles().restart(),timerID.removeClass("hide"),timerID.addClass("show"),(a=$("#timer")).TimeCircles().addListener(function(){var e=a.TimeCircles().getTime();e<1&&(a.TimeCircles().stop(),a.data("data-timer",0),stopMusic(actualLevel-1),playEffect("wrongAnswer"),u(actualLevel),console.log("Out of Time - Game Over!")),0<e&&e<7.995&&playEffect("ticktock")})},this),500)}function L(e,a){return e===a}$("#card").hide(),$("#AsktheAudience").hide(),$("#scoreCutScene").hide(),$("#addToLeaderboardBtn").hide(),$("#leaderboard").hide(),$("#scoreBtn").hide(),$("#endGameCutScene").hide(),mainMenu.fadeIn(2e3),$("#timer").TimeCircles({animation:"ticks",bg_width:.1,fg_width:.023333333333333334,circle_bg_color:"#ffffff",text_color:"#ffffff",time:{Days:{text:"Days",color:"#CCCCCC",show:!1},Hours:{show:!1},Minutes:{show:!1},Seconds:{text:"Time",color:"#E3AB28",show:!0}}}),$("#timer").TimeCircles().stop(),$("#introVideo").hide(),gameWindow.hide(),$("#playGameBtn").click(function(){footer.fadeOut(fadeTime),mainMenu.fadeOut(fadeTime),$("#introVideo").fadeIn(),introVideo.play(),document.getElementById("introVideo").addEventListener("ended",function(){setTimeout($.proxy(function(){footer.fadeIn(fadeTime),$("#introVideo").fadeOut(),gameWindow.fadeIn(fadeTime),function(){var v=[];playMusic(currentLevel-1),$("#scoreValue").prop("number",1e6).animateNumber({number:0,numberStep:function(e,a){$(a.elem),Math.round(e)}},1e3,"linear"),$("#timer");var e="https://opentdb.com/api.php?amount="+qty+"&category=9&difficulty=easy&type=multiple";$.getJSON(e,function(e){var a=$("#answer"),r={};for(i=0;i<e.results.length;i++){a.html(e.results[i].correct_answer);var s=a.text();r={question:e.results[i].question,correct_answer:s,incorrect_answers:e.results[i].incorrect_answers},v.push(r)}function n(){$("#ans1B").on("click",t()),$("#ans2B").on("click",c()),$("#ans3B").on("click",o()),$("#ans4B").on("click",u())}function t(){$("#ans1B").one("click",function(){d();var e=$("#ans1").html(),a=decodeURI(v[currentLevel-1].correct_answer);h(this.id),L(e,a)?(w(this),f(),setTimeout($.proxy(function(){l(actualLevel),y(v[currentLevel-1]),n()},this),5e3)):(p(this,a),m(actualLevel-1))})}function c(){$("#ans2B").one("click",function(){d();var e=$("#ans2").html(),a=decodeURI(v[currentLevel-1].correct_answer);h(this.id),L(e,a)?(w(this),f(),setTimeout($.proxy(function(){l(actualLevel),y(v[currentLevel-1]),n()},this),5e3)):(p(this,a),m(actualLevel-1))})}function o(){$("#ans3B").one("click",function(){d();var e=$("#ans3").html(),a=decodeURI(v[currentLevel-1].correct_answer);h(this.id),L(e,a)?(w(this),f(),setTimeout($.proxy(function(){l(actualLevel),y(v[currentLevel-1]),n()},this),5e3)):(p(this,a),m(actualLevel-1))})}function u(){$("#ans4B").one("click",function(){d();var e=$("#ans4").html(),a=decodeURI(v[currentLevel-1].correct_answer);h(this.id),L(e,a)?(w(this),f(),setTimeout($.proxy(function(){l(actualLevel),y(v[currentLevel-1]),n()},this),5e3)):(p(this,a),m(actualLevel-1))})}v=k(v),C(currentLevel),y(v[currentLevel-1]),t(),c(),o(),u(),$("#ll5050").one("click",function(){playEffect("blast"),$("#cross2").prop("hidden",!1);var e=v[currentLevel-1].incorrect_answers[0],a=v[currentLevel-1].incorrect_answers[1];$("#ans1B p:contains('"+e+"')").closest("div").fadeOut(),$("#ans2B p:contains('"+e+"')").closest("div").fadeOut(),$("#ans3B p:contains('"+e+"')").closest("div").fadeOut(),$("#ans4B p:contains('"+e+"')").closest("div").fadeOut(),$("#ans1B p:contains('"+a+"')").closest("div").fadeOut(),$("#ans2B p:contains('"+a+"')").closest("div").fadeOut(),$("#ans3B p:contains('"+a+"')").closest("div").fadeOut(),$("#ans4B p:contains('"+a+"')").closest("div").fadeOut()}),$("#llAudience").one("click",function(){playEffect("blast"),$("#cross3").prop("hidden",!1),$("#AsktheAudience").fadeIn(1e3);var e=[0,0,0,0],a=v[currentLevel-1].correct_answer,r=aMix.indexOf(a),s=aMix.indexOf(v[currentLevel-1].incorrect_answers[0]),n=aMix.indexOf(v[currentLevel-1].incorrect_answers[1]),t=aMix.indexOf(v[currentLevel-1].incorrect_answers[2]),c=b(60,100),i=100-(e[r]=c),o=b(10,i);e[s]=o;var u=i-o,l=b(10,u);e[n]=l;var d,f,m,h,w=u-l,p=b(10,w);e[t]=p,d=e[0],f=e[1],m=e[2],h=e[3],$("#meter1").animate({width:d+"%"},1500),$("#meter2").animate({width:f+"%"},1500),$("#meter3").animate({width:m+"%"},1500),$("#meter4").animate({width:h+"%"},1500)}),$("#llSwitch").one("click",function(){playEffect("blast"),$("#cross1").prop("hidden",!1),y(v[(currentLevel+=1)-1])})})}()},this),fadeTime)},!1)}),$("#showLeaderboardBtn").on("click",function(){$("#leaderboard").fadeIn()}),$("#exitLeaderboardBtn").on("click",function(){$("#leaderboard").fadeOut()}),$("#volumeOff").on("click",function(){audioVolume(0)}),$("#volumeHalf").on("click",function(){audioVolume(.3)}),$("#volumeOn").on("click",function(){audioVolume(1)})});